<?php

/**
 * @file
 * Contains sharerich.module..
 */

use Drupal\Core\Routing\RouteMatchInterface;

/**
 * Implements hook_help().
 */
function sharerich_help($route_name, RouteMatchInterface $route_match) {
  switch ($route_name) {
    // Main module help for the sharerich module.
    case 'help.page.sharerich':
      $output = '';
      $output .= '<h3>' . t('About') . '</h3>';
      $output .= '<p>' . t('Video sharerich manager') . '</p>';
      return $output;

    default:
  }
}

/**
 * Implements hook_theme().
 */
function sharerich_theme() {
  $theme = [];

  return $theme;
}

/**
 * Helper to scan the services folder.
 * @return A list of file names.
 */
function sharerich_get_default_services() {
  $dir = drupal_get_path('module', 'sharerich') . '/services';
  $list = file_scan_directory($dir, '/.inc/', array(), 0);
  return array_map(function($service) {
    return $service->name;
  }, $list);
}

/**
 * Helper to load services from the disk.
 */
function sharerich_load_default_service($service_name) {
  $dir = drupal_get_path('module', 'sharerich') . '/services';
  $service_name = $dir . '/' . $service_name . '.inc';
  if (file_exists($service_name)) {
    return file_get_contents($service_name);
  }
  return FALSE;
}
